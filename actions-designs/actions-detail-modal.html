<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Action Detail Modal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            navy: '#0f172a',
            'navy-light': '#1e293b',
            copper: '#c2703e',
            'copper-light': '#d4a574',
          }
        }
      }
    }
  </script>
  <style>
    body { font-family: 'Source Sans 3', system-ui, sans-serif; }
    .scrollbar-thin::-webkit-scrollbar { width: 6px; }
    .scrollbar-thin::-webkit-scrollbar-track { background: #f1f5f9; }
    .scrollbar-thin::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
  </style>
</head>
<body class="bg-slate-100 min-h-screen">

  <!-- Dimmed Background (table visible behind) -->
  <div class="p-8 opacity-30 pointer-events-none">
    <div class="bg-white rounded-2xl border border-slate-200 h-96"></div>
  </div>

  <!-- Modal Overlay -->
  <div class="fixed inset-0 bg-black/40 z-40 flex items-center justify-center p-4">
    
    <!-- Modal -->
    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col overflow-hidden">
      
      <!-- Modal Header -->
      <div class="px-6 py-4 border-b border-slate-200 flex items-start justify-between">
        <div class="flex-1 pr-4">
          <!-- Priority + Status Badges -->
          <div class="flex items-center gap-2 mb-2">
            <span class="px-2 py-0.5 text-[10px] font-bold rounded bg-red-100 text-red-700 uppercase">Critical</span>
            <span class="inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full bg-amber-100 text-amber-700">
              <span class="w-1.5 h-1.5 rounded-full bg-amber-500"></span>
              In Progress
            </span>
          </div>
          <!-- Title -->
          <h2 class="text-xl font-bold text-navy">Complete Quantified Risk Assessment</h2>
        </div>
        <button class="p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>
      
      <!-- Modal Body (Scrollable) -->
      <div class="flex-1 overflow-y-auto scrollbar-thin">
        
        <!-- Main Content Grid -->
        <div class="p-6">
          <div class="grid grid-cols-3 gap-6">
            
            <!-- Left Column: Description & Details -->
            <div class="col-span-2 space-y-6">
              
              <!-- Description -->
              <div>
                <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Description</label>
                <p class="text-sm text-slate-700 leading-relaxed">
                  Update the Quantified Risk Assessment (QRA) with latest cost estimates, schedule risk analysis, and Monte Carlo simulation outputs. Ensure alignment with Treasury Green Book requirements and include sensitivity analysis for key assumptions.
                </p>
              </div>
              
              <!-- Linked Criterion Card -->
              <div>
                <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Addresses Gap</label>
                <a href="#" class="block p-4 bg-slate-50 rounded-xl border border-slate-200 hover:border-copper/50 hover:bg-slate-100 transition-colors group">
                  <div class="flex items-start justify-between">
                    <div class="flex items-center gap-3">
                      <span class="px-2 py-1 text-xs font-bold bg-red-100 text-red-700 rounded">RED</span>
                      <div>
                        <p class="text-sm font-semibold text-navy group-hover:text-copper transition-colors">G3-IV-4.1 · Cost Contingency Analysis</p>
                        <p class="text-xs text-slate-500 mt-0.5">Financial Case · Gate 3: Investment Decision</p>
                      </div>
                    </div>
                    <svg class="w-4 h-4 text-slate-400 group-hover:text-copper transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                  </div>
                  <div class="mt-3 pt-3 border-t border-slate-200">
                    <p class="text-xs text-slate-500 line-clamp-2">
                      <span class="font-medium text-slate-600">Gap:</span> QRA not updated since OBC stage. Missing Monte Carlo analysis and schedule risk integration.
                    </p>
                  </div>
                </a>
              </div>
              
              <!-- Dependency Warning (if blocked) -->
              <!--
              <div class="p-4 bg-purple-50 rounded-xl border border-purple-200">
                <div class="flex items-start gap-3">
                  <div class="w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center flex-shrink-0">
                    <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/>
                    </svg>
                  </div>
                  <div>
                    <p class="text-sm font-semibold text-purple-800">Blocked by another action</p>
                    <p class="text-xs text-purple-600 mt-0.5">This action is waiting on: <a href="#" class="underline hover:text-purple-800">Complete QRA</a></p>
                  </div>
                </div>
              </div>
              -->
              
              <!-- Activity & Comments -->
              <div>
                <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3">Activity</label>
                
                <!-- Comment Input -->
                <div class="mb-4">
                  <div class="flex gap-3">
                    <div class="w-8 h-8 rounded-full bg-navy text-white flex items-center justify-center text-xs font-semibold flex-shrink-0">
                      JR
                    </div>
                    <div class="flex-1">
                      <textarea 
                        placeholder="Add a comment... Use @name to mention someone"
                        class="w-full px-3 py-2.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-copper/20 focus:border-copper resize-none"
                        rows="2"
                      ></textarea>
                      <div class="flex items-center justify-between mt-2">
                        <p class="text-xs text-slate-400">Use @name to notify team members</p>
                        <button class="px-3 py-1.5 bg-navy hover:bg-slate-800 text-white text-xs font-medium rounded-lg transition-colors">
                          Post Comment
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Activity Feed -->
                <div class="space-y-4">
                  
                  <!-- Comment -->
                  <div class="flex gap-3">
                    <div class="w-8 h-8 rounded-full bg-copper text-white flex items-center justify-center text-xs font-semibold flex-shrink-0">
                      SM
                    </div>
                    <div class="flex-1">
                      <div class="bg-slate-50 rounded-lg p-3 border border-slate-100">
                        <div class="flex items-center justify-between mb-1">
                          <span class="text-sm font-semibold text-navy">Sarah Miller</span>
                          <span class="text-xs text-slate-400">2 hours ago</span>
                        </div>
                        <p class="text-sm text-slate-600">
                          <span class="text-copper font-medium">@James</span> I've sent the latest cost data to the risk team. They should have the Monte Carlo outputs by Friday.
                        </p>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Status Change Event -->
                  <div class="flex gap-3">
                    <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center flex-shrink-0">
                      <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                      </svg>
                    </div>
                    <div class="flex-1 py-2">
                      <p class="text-sm text-slate-500">
                        <span class="font-medium text-slate-700">James Reece</span> changed status from 
                        <span class="px-1.5 py-0.5 text-xs bg-slate-100 text-slate-600 rounded">Not Started</span> to 
                        <span class="px-1.5 py-0.5 text-xs bg-amber-100 text-amber-700 rounded">In Progress</span>
                        <span class="text-slate-400 ml-1">· Yesterday</span>
                      </p>
                    </div>
                  </div>
                  
                  <!-- Assignment Event -->
                  <div class="flex gap-3">
                    <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center flex-shrink-0">
                      <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                      </svg>
                    </div>
                    <div class="flex-1 py-2">
                      <p class="text-sm text-slate-500">
                        <span class="font-medium text-slate-700">James Reece</span> was assigned to this action
                        <span class="text-slate-400 ml-1">· Dec 5, 2024</span>
                      </p>
                    </div>
                  </div>
                  
                  <!-- Created Event -->
                  <div class="flex gap-3">
                    <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center flex-shrink-0">
                      <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                      </svg>
                    </div>
                    <div class="flex-1 py-2">
                      <p class="text-sm text-slate-500">
                        Action created by <span class="font-medium text-slate-700">AI Generation</span> from Assessment v2
                        <span class="text-slate-400 ml-1">· Dec 5, 2024</span>
                      </p>
                    </div>
                  </div>
                  
                </div>
              </div>
              
            </div>
            
            <!-- Right Column: Metadata Sidebar -->
            <div class="col-span-1 space-y-4">
              
              <!-- Impact Score -->
              <div class="p-4 bg-green-50 rounded-xl border border-green-200">
                <div class="flex items-center justify-between">
                  <span class="text-xs font-semibold text-green-700 uppercase tracking-wider">Est. Impact</span>
                  <svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                  </svg>
                </div>
                <p class="text-3xl font-bold text-green-700 mt-1">+6%</p>
                <p class="text-xs text-green-600 mt-1">Readiness improvement</p>
              </div>
              
              <!-- Status -->
              <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Status</label>
                <select class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-copper/20 focus:border-copper">
                  <option>Not Started</option>
                  <option selected>In Progress</option>
                  <option>Completed</option>
                  <option>Blocked</option>
                  <option>Cancelled</option>
                </select>
              </div>
              
              <!-- Priority -->
              <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Priority</label>
                <select class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-copper/20 focus:border-copper">
                  <option selected>Critical</option>
                  <option>High</option>
                  <option>Medium</option>
                  <option>Low</option>
                </select>
              </div>
              
              <!-- Owner -->
              <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Owner</label>
                <button class="w-full flex items-center gap-3 px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white hover:border-slate-300 transition-colors text-left">
                  <div class="w-6 h-6 rounded-full bg-navy text-white flex items-center justify-center text-[10px] font-semibold">
                    JR
                  </div>
                  <span class="flex-1 text-slate-700">James Reece</span>
                  <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                  </svg>
                </button>
              </div>
              
              <!-- Due Date -->
              <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Due Date</label>
                <div class="flex items-center gap-2 px-3 py-2 border border-red-200 bg-red-50 rounded-lg">
                  <svg class="w-4 h-4 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  <span class="text-sm font-semibold text-red-700">Dec 4, 2024</span>
                  <span class="text-xs text-red-600">(5 days overdue)</span>
                </div>
              </div>
              
              <!-- Case Category -->
              <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Case</label>
                <div class="flex items-center gap-2">
                  <div class="w-2 h-2 rounded-full bg-amber-400"></div>
                  <span class="text-sm text-slate-700">Financial Case</span>
                </div>
              </div>
              
              <!-- Source -->
              <div class="p-4 bg-slate-50 rounded-xl border border-slate-200">
                <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Source</label>
                <div class="flex items-center gap-2">
                  <svg class="w-4 h-4 text-copper" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                  </svg>
                  <span class="text-sm text-slate-700">AI Generated</span>
                  <span class="text-xs text-slate-400">· Assessment v2</span>
                </div>
              </div>
              
            </div>
            
          </div>
        </div>
        
      </div>
      
      <!-- Modal Footer -->
      <div class="px-6 py-4 border-t border-slate-200 bg-slate-50 flex items-center justify-between">
        <button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
          </svg>
          Delete Action
        </button>
        <div class="flex items-center gap-3">
          <button class="px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-lg transition-colors">
            Cancel
          </button>
          <button class="px-4 py-2 bg-navy hover:bg-slate-800 text-white text-sm font-medium rounded-lg transition-colors">
            Save Changes
          </button>
        </div>
      </div>
      
    </div>
    
  </div>

</body>
</html>
